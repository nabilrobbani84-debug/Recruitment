(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4791],{3254:(e,a,r)=>{Promise.resolve().then(r.bind(r,9458))},9458:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>P});var t=r(5155),s=r(2115),i=r(9606),n=r(4292),l=r(842),d=r(1377),o=r(6498);let c=l.Ik({name:l.Yj().min(3,"Nama lengkap minimal 3 karakter"),headline:l.Yj().min(10,"Headline minimal 10 karakter"),phoneNumber:l.Yj().min(10,"Nomor telepon tidak valid"),location:l.Yj().min(3,"Lokasi minimal 3 karakter"),bio:l.Yj().min(50,"Ringkasan minimal 50 karakter").max(500,"Ringkasan maksimal 500 karakter")}),m=e=>{var a,r,s,l;let{initialData:m,onUpdateSuccess:h,onCancel:x}=e,{register:u,handleSubmit:p,formState:{errors:g,isSubmitting:b}}=(0,i.mN)({resolver:(0,n.u)(c),defaultValues:{name:m.name||"",headline:m.headline||"",phoneNumber:m.phoneNumber||"",location:m.location||"",bio:m.bio||""}}),f=async e=>{try{await new Promise(e=>setTimeout(e,1e3)),alert("Profil berhasil diperbarui!"),h(e)}catch(e){console.error(e),alert("Gagal memperbarui profil.")}};return(0,t.jsxs)("form",{onSubmit:p(f),className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl p-8 shadow-sm space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(d.A,{label:"Nama Lengkap",id:"name",...u("name"),error:null===(a=g.name)||void 0===a?void 0:a.message}),(0,t.jsx)(d.A,{label:"Nomor Telepon",id:"phoneNumber",...u("phoneNumber"),error:null===(r=g.phoneNumber)||void 0===r?void 0:r.message})]}),(0,t.jsx)(d.A,{label:"Headline Profesional",id:"headline",placeholder:"Contoh: Fresh Graduate Teknik Informatika",...u("headline"),error:null===(s=g.headline)||void 0===s?void 0:s.message}),(0,t.jsx)(d.A,{label:"Lokasi Saat Ini",id:"location",placeholder:"Contoh: Jakarta, Indonesia",...u("location"),error:null===(l=g.location)||void 0===l?void 0:l.message}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ringkasan Profil"}),(0,t.jsx)("textarea",{id:"bio",rows:5,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",...u("bio")}),g.bio&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.bio.message})]}),(0,t.jsxs)("div",{className:"flex justify-end items-center gap-4 pt-4 border-t dark:border-gray-700",children:[(0,t.jsx)(o.default,{type:"button",variant:"ghost",onClick:x,children:"Batal"}),(0,t.jsx)(o.default,{type:"submit",isLoading:b,children:b?"Menyimpan...":"Simpan Perubahan"})]})]})};var h=r(4839),x=r(7401);let u=(0,x.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var p=r(6764);let g=(0,x.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),b=e=>{let{experience:a}=e,{role:r,company:s,startDate:i,endDate:n,description:l}=a,d=e=>new Date(e).toLocaleDateString("id-ID",{month:"long",year:"numeric"});return(0,t.jsxs)("div",{className:"flex gap-4 p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[(0,t.jsx)("div",{className:"mt-1 flex-shrink-0",children:(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-gray-100",children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-gray-600"})})}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,t.jsx)("p",{className:"text-md text-gray-700",children:s}),(0,t.jsxs)("p",{className:"mt-1 flex items-center gap-2 text-sm text-gray-500",children:[(0,t.jsx)(u,{size:14}),d(i)," - ",n?d(n):"Saat ini"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"sm","aria-label":"Edit",children:(0,t.jsx)(p.A,{size:16})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50","aria-label":"Hapus",children:(0,t.jsx)(g,{size:16})})]})]}),(0,t.jsx)("p",{className:"mt-3 text-gray-600 whitespace-pre-line",children:l})]})]})},f=(0,x.A)("school",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),y=e=>{let{education:a}=e,{institution:r,degree:s,fieldOfStudy:i}=a;return(0,t.jsxs)("div",{className:"flex gap-4 p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[(0,t.jsx)("div",{className:"mt-1 flex-shrink-0",children:(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-gray-100",children:(0,t.jsx)(f,{className:"h-6 w-6 text-gray-600"})})}),(0,t.jsx)("div",{className:"flex-grow",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,t.jsxs)("p",{className:"text-md text-gray-700",children:[s,", ",i]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"sm","aria-label":"Edit",children:(0,t.jsx)(p.A,{size:16})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50","aria-label":"Hapus",children:(0,t.jsx)(g,{size:16})})]})]})})]})};var v=r(3172);class j{async getCandidateProfile(){try{return(await v.A.get("/candidate/profile")).data}catch(e){throw console.error("Error fetching candidate profile:",e),Error("Gagal mengambil data profil.")}}async updateCandidateProfile(e){try{return(await v.A.patch("/candidate/profile",e)).data}catch(e){throw console.error("Error updating profile:",e),Error("Gagal memperbarui profil.")}}async uploadCv(e){let a=new FormData;a.append("cv",e);try{return(await v.A.post("/candidate/profile/cv",a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading CV:",e),Error("Gagal mengunggah CV.")}}async getExperiences(){try{return(await v.A.get("/candidate/experiences")).data}catch(e){throw console.error("Error fetching experiences:",e),Error("Gagal mengambil data pengalaman.")}}async addExperience(e){return(await v.A.post("/candidate/experiences",e)).data}async getEducations(){try{return(await v.A.get("/candidate/educations")).data}catch(e){throw console.error("Error fetching educations:",e),Error("Gagal mengambil data pendidikan.")}}async addEducation(e){try{return(await v.A.post("/candidate/educations",e)).data}catch(e){throw console.error("Error adding education:",e),Error("Gagal menambahkan data pendidikan.")}}}let k=new j,N=(0,x.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),w=(0,x.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var A=r(4505);let E=(0,x.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),M=e=>{let{currentCV:a}=e,[r,i]=(0,s.useState)(a),[n,l]=(0,s.useState)(!1),d=(0,s.useRef)(null),o=async e=>{var a;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(r){l(!0);try{let e=await k.uploadCv(r);i(e.cvUrl),alert("CV berhasil diunggah!")}catch(e){alert("Gagal mengunggah CV.")}finally{l(!1)}}};return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(N,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:r?(e=>{try{return new URL(e).pathname.split("/").pop()||"file_cv.pdf"}catch(e){return"file_cv.pdf"}})(r):"Belum ada CV yang diunggah"}),r&&(0,t.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[(0,t.jsx)(w,{size:14}),"Unduh CV"]})]})]}),(0,t.jsxs)("div",{className:"mt-4 sm:mt-0",children:[(0,t.jsx)("input",{type:"file",ref:d,onChange:o,className:"hidden",accept:".pdf,.doc,.docx"}),(0,t.jsxs)("button",{onClick:()=>{var e;null===(e=d.current)||void 0===e||e.click()},disabled:n,className:"inline-flex items-center justify-center gap-2 h-10 px-4 py-2 text-sm font-semibold rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:[n?(0,t.jsx)(A.A,{className:"h-5 w-5 animate-spin"}):(0,t.jsx)(E,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:n?"Mengunggah...":"Ganti CV"})]})]})]})},C=(0,x.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),P=()=>{let[e,a]=(0,s.useState)(null),[r,i]=(0,s.useState)([]),[n,l]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{let[e,r,t]=await Promise.all([k.getCandidateProfile(),k.getExperiences(),k.getEducations()]);a(e),i(r),l(t)}catch(e){console.error("Failed to fetch profile data:",e)}finally{c(!1)}})()},[]),d)?(0,t.jsx)("div",{className:"text-center p-10",children:"Memuat data profil..."}):e?(0,t.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,t.jsxs)("header",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Profil Saya"}),(0,t.jsx)("p",{className:"mt-1 text-gray-600",children:"Perbarui informasi Anda agar perekrut lebih mudah menemukan Anda."})]}),(0,t.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Informasi Pribadi"}),(0,t.jsx)(m,{initialData:e})]}),(0,t.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Resume / CV"}),(0,t.jsx)(M,{currentCV:e.cvUrl})]}),(0,t.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Pengalaman Kerja"}),(0,t.jsxs)(o.Button,{children:[(0,t.jsx)(C,{size:16,className:"mr-2"})," Tambah Pengalaman"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:r.length>0?r.map(e=>(0,t.jsx)(b,{experience:e},e.id)):(0,t.jsx)("p",{className:"text-gray-500 italic",children:"Anda belum menambahkan pengalaman kerja."})})]}),(0,t.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Pendidikan"}),(0,t.jsxs)(o.Button,{children:[(0,t.jsx)(C,{size:16,className:"mr-2"})," Tambah Pendidikan"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:n.length>0?n.map(e=>(0,t.jsx)(y,{education:e},e.id)):(0,t.jsx)("p",{className:"text-gray-500 italic",children:"Anda belum menambahkan riwayat pendidikan."})})]})]}):(0,t.jsx)("div",{className:"text-center p-10 text-red-500",children:"Gagal memuat profil. Silakan coba lagi nanti."})}},6498:(e,a,r)=>{"use strict";r.d(a,{default:()=>c});var t=r(5155),s=r(2115),i=r(1027),n=r(4505),l=r(1160);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-blue-600 text-white hover:bg-blue-600/90",destructive:"bg-red-600 text-white hover:bg-red-600/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-200/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),o=s.forwardRef((e,a)=>{let{className:r,variant:s,size:i,children:o,isLoading:c,disabled:m,...h}=e;return(0,t.jsxs)("button",{className:(0,l.cn)(d({variant:s,size:i,className:r})),ref:a,disabled:c||m,...h,children:[c&&(0,t.jsx)(n.A,{className:"mr-2 h-4 w-4 animate-spin"}),o]})});o.displayName="Button";let c=o},1377:(e,a,r)=>{"use strict";r.d(a,{A:()=>o});var t=r(5155),s=r(2115),i=r(1027),n=r(1160);let l=(0,i.F)("flex h-10 w-full rounded-md border bg-transparent py-2 px-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{hasError:{true:"border-red-500 text-red-600 focus-visible:ring-red-500",false:"border-gray-300"}},defaultVariants:{hasError:!1}}),d=s.forwardRef((e,a)=>{let{className:r,label:s,id:i,name:d,error:o,Icon:c,containerClassName:m,...h}=e,x=i||d;return(0,t.jsxs)("div",{className:(0,n.cn)("w-full",m),children:[(0,t.jsx)("label",{htmlFor:x,className:"block text-sm font-medium text-gray-700 mb-2",children:s}),(0,t.jsxs)("div",{className:"relative",children:[c&&(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsx)(c,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,t.jsx)("input",{id:x,name:d,className:(0,n.cn)(l({hasError:!!o}),c?"pl-10":"pl-3",r),ref:a,...h})]}),o&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-600",children:o})]})});d.displayName="InputField";let o=d},3172:(e,a,r)=>{"use strict";r.d(a,{A:()=>l,O:()=>n});var t=r(2651),s=r(2818);let i=t.A.create({baseURL:s.env.NEXT_PUBLIC_API_URL,headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}),n=e=>{e?i.defaults.headers.common.Authorization="Bearer ".concat(e):delete i.defaults.headers.common.Authorization};i.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&console.error("Authentication Error (401): Token is invalid or expired.",e.response.data),Promise.reject(e)));let l=i},1160:(e,a,r)=>{"use strict";r.d(a,{cn:()=>i});var t=r(3463),s=r(9795);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}},4839:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(7401).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},6764:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(7401).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[1181,2651,7172,8441,1517,7358],()=>a(3254)),_N_E=e.O()}]);